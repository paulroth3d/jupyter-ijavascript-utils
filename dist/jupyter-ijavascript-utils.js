(()=>{var t={580:t=>{const e=(t,e,r)=>(t[e]=r,t);class r extends Map{source;setSource(t){this.source=t}getSource(){return this.source}static stringifyReducer(t,e){return e instanceof r?{dataType:"SourceMap",source:e.source,data:Array.from(e.entries())}:e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e}toString(){return JSON.stringify(this,r.stringifyReducer)}toJSON(){return{dataType:"SourceMap",source:this.source,data:Array.from(this.entries())}}reduce(t){return r.reduceGroup(this,t,{})}static reduceGroup(t,n,s={}){if(t instanceof r)return Array.from(t.entries()).flatMap((([o,a])=>r.reduceGroup(a,n,e(s,t.source,o))));if(!Array.isArray(t))throw Error("reduceGroups only works on arrays or sourceMaps");return[{...s,...n(t,s)}]}reduceSeparate(t){return r.reduceGroupSeparate(this,t,{})}static reduceGroupSeparate=(t,n,s={})=>{if(t instanceof r)return Array.from(t.entries()).flatMap((([o,a])=>r.reduceGroupSeparate(a,n,e(s,t.source,o))));if(!Array.isArray(t))throw Error("reduceGroups only works on arrays or sourceMaps");return Object.entries(n(t,s)).map((([t,e])=>({...s,_aggregateKey:t,_aggregateValue:e})))};objectReduce(t){return r.objectReduce(this,t)}static objectReduce(t,e){if("object"!=typeof e)throw Error("reducerObject: Expecting an object as the argument");const n=Object.entries(e).filter((([t,e])=>{if("function"==typeof e)return!0;throw Error("generateObjectFn: all properties should be {(collection) => result}")}));return r.reduceGroup(t,(t=>Object.fromEntries(n.map((([e,r])=>[e,r(t)])))))}map(t){return r.mapCollection(this,t)}static mapCollection(t,n,s={}){const o=new r;o.source=t.source;for(const[a,i]of t.entries())i instanceof Map?o.set(a,r.mapCollection(i,n,e(s,o.source,a))):o.set(a,n(i,s));return o}}t.exports=r},275:(t,e,r)=>{const{printValue:n}=r(778),s=r(929),o=r(496),a=r(778),i=r(914),{createSort:c}=r(496);class u{#t=[];#e=null;#r="";#n=null;#s=[];#o=null;#a=null;#i=null;#c="50vh";#u={};#l=0;#p=0;#f=null;#h=null;#d="";#m="";#y=null;#g=null;#v=null;#b=!1;constructor(t){this.reset(),t&&this.data(t)}reset(){this.#t=[],this.#e=null,this.#r="",this.#n=null,this.#s=[],this.#o=null,this.#a=null,this.#i=null,this.#c="50vh",this.#u={},this.#l=0,this.#p=0,this.#f=null,this.#h=null,this.#d="",this.#m="",this.#y=null,this.#g=null,this.#v=null,this.#b=!1}data(t){return this.#t=t||[],this}augment(t){if(!t)return this.#e=null,this;const e=Object.getOwnPropertyNames(t);return e.forEach((e=>{if("function"!=typeof t[e])throw Error(`Formatter properties must be functions. [${e}]`)})),this.#e=r=>{const n={...r};return e.forEach((e=>{n[e]=t[e](r)})),n},this}border(t){let e="";return!0===t?e="border: 1px solid #aaa":t&&(e=`border: ${t}`),this.#r=e,this}columns(t,...e){if("string"==typeof t)this.#n=[t,...e];else{if(!Array.isArray(t))throw new Error("columns expects array of strings");this.#n=t}return this}columnsToExclude(t,...e){if("string"==typeof t)this.#s=[t,...e];else{if(!Array.isArray(t))throw new Error("columns to exclude expects array of strings");this.#s=t}return this}filter(t){return this.#a=t,this}format(t){if(!t)return this.#i=null,this;const e=a.prepareFormatterObject(t),r=new Map;return Object.getOwnPropertyNames(e).forEach((t=>{r.set(t,e[t])})),this.#i=({value:t,property:e})=>r.has(e)?r.get(e)(t):t,this}formatter(t){return this.format(t)}formatterFn(t){return this.#i=t,this}height(t){return this.#c=t,this}limit(t){return this.#l=t,this}offset(t){return this.#p=t,this}labels(t){return this.#u=t,this}printOptions(t){return this.#f=t,this}sortFn(t){return this.#h=t,this}sort(...t){return this.sortFn(c.apply(this,t))}styleTable(t){return this.#d=t,this}styleHeader(t){return this.#m=t,this}styleRow(t){return this.#y=t,this}styleColumn(t){if(!t)return this.#g=null,this;if("object"!=typeof t)throw Error("styleColumn(styleObj): expects an object with properties matching the column LABELs");return this.#g=t,this}styleCell(t){return this.#v=t,this}transpose(){return this.#b=!0,this}prepare(){let t=this.#t||[];this.#h&&(t=t.sort(this.#h)),this.#e&&(t=t.map(this.#e)),this.#a&&(t=t.filter(this.#a));let e=this.#n||i.keys(t);e=e.filter((t=>-1===this.#s.indexOf(t)));const r=this.#i?this.#i:({value:t})=>void 0===t?"":t;let n=e.map((t=>Object.prototype.hasOwnProperty.call(this.#u,t)?this.#u[t]:t)),s=t.map(((t,n)=>e.map(((s,o)=>r({value:t[e[o]],columnIndex:o,property:s,rowIndex:n,record:t})))));if(this.#l<0?s=s.reverse().slice(0,-this.#l):this.#p<0?s=s.slice(this.#p):this.#l>0?s=s.slice(this.#p,this.#p+this.#l):this.#p>0&&(s=s.slice(this.#p)),this.#b){let t=[n,...s];t=o.transpose(t),n=t[0],s=t.slice(1)}return{headers:n,data:s}}generateHTML(){const t=this.prepare(),e=this.#d,r=this.#m,s=this.#y,o=this.#g,a=this.#v,i=this.#f,c=this.#r,u=n,l=(...t)=>{const e=t.filter((t=>!!t));return e.length<1?"":`style="${e.map((t=>t.trim())).map((t=>t.endsWith(";")?t:`${t};`)).join(" ")}"`};return`<table cellspacing="0px" ${l(e)}>`+("\n<tr "+(r?`style="${r}"`:"")+">\n\t"+t.headers.map((t=>`<th>${t}</th>`)).join("\n\t")+"\n</tr>\n")+(e=>e.map(((e,r)=>{const n=this.#t[r],p=s?s({rowIndex:r,row:e,record:n})||"":null;return`<tr ${l(p)}>\n\t`+e.map(((s,p)=>{const f=t.headers[p],h={value:s,columnIndex:p,columnHeader:f,rowIndex:r,row:e,record:n},d=a?a(h):"",m=o&&o[f]&&"function"!==(o[f],!1)?o[f](s,h):"";return`<td ${l(c,d,m)}>${u(s,i)}</td>`})).join("\n\t")+"\n</tr>"})).join("\n"))(t.data)+"\n</table>"}generateMarkdown(t){const{align:e=!0}=t||{},r=this.#f,s=n;let{headers:o,data:a}=this.prepare();a.unshift(o.map((t=>"--"))),a.unshift(o);const i=new Array(a[0].length).fill(0);return a=a.map(((t,n)=>t.map(((t,n)=>{const o=s(t,r);if(e){const t=o.length;i[n]<t&&(i[n]=t)}return o})))),e&&(a=a.map(((t,e)=>t.map(((t,e)=>t.padEnd(i[e]," ")))))),a.map((t=>t.join("|"))).join("\n")}generateCSV(){const t=this.prepare(),e=this.#f,r=n,s=t=>JSON.stringify(t).slice(1).slice(0,-1);var o;return o=t.headers,s(o)+"\n"+t.data.map(((t,n)=>s(t.map(((t,n)=>s(r(t,e))))))).join("\n")}generateTSV(){const t=this.prepare(),e=this.#f,r=t=>`"${n(t,e).replace(/"/g,'""')}"`,s=t=>t.map(r).join("\t");var o;return o=t.headers,s(o)+"\n"+t.data.map((t=>s(t))).join("\n")}generateArray(t=!1){return this.prepare()}generateArray2(){const t=this.prepare();return[[...t.headers],...t.data]}static hasRenderedCSS=!1;render(){const t=s.detectContext();if(!t)throw Error("Not in iJavaScript, no $$ variable available");let e="";e="<span class=\"sticky-table-marker\" ></span>\n<style type='text/css'>\n.sticky-table table { text-align: left; position: relative; border-collapse: collapse; }\n.sticky-table td { border: 1px solid #cccccc; }\n.sticky-table th { background: #676c87; color: white; position: sticky; top: 0; box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4); }\n</style>\n",u.hasRenderedCSS=!0,t.$$.html(`<span class="sticky-table-marker" ></span>\n<style type='text/css'>\n.sticky-table table { text-align: left; position: relative; border-collapse: collapse; }\n.sticky-table td { border: 1px solid #cccccc; }\n.sticky-table th { background: #676c87; color: white; position: sticky; top: 0; box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4); }\n</style>\n<div class="sticky-table" style="max-height: ${this.#c}">\n${this.generateHTML()}\n</div>`)}renderMarkdown(){const t=s.detectContext();if(!t)throw Error("Not in iJavaScript, no $$ variable available");t.console.log(this.generateMarkdown())}renderCSV(){const t=s.detectContext();if(!t)throw Error("Not in iJavaScript, no $$ variable available");t.console.log(this.generateCSV())}renderTSV(){const t=s.detectContext();if(!t)throw Error("Not in iJavaScript, no $$ variable available");t.console.log(this.generateTSV())}}t.exports=u},533:()=>{},898:function(t,e,r){const n=r(734),s=r(496),o=r(914),a=r(778);t.exports={};const i=t.exports;t.exports.property=function(t,e){return o.propertyFromList(t,e)},t.exports.deferCollection=(t,...e)=>{if("function"!=typeof t)throw Error("deferCollection:aggregateFn should be a function");return r=>t.apply(this,[r,...e])},t.exports.defer=t.exports.deferCollection,t.exports.extent=function(t,e){return{min:i.min(t,e),max:i.max(t,e)}},t.exports.min=function(t,e){const r=o.evaluateFunctionOrProperty(e);return t.reduce(((t,e)=>{const n=r(e);return n<t?n:t}),r(t[0]))},t.exports.max=function(t,e){const r=o.evaluateFunctionOrProperty(e);return t.reduce(((t,e)=>{const n=r(e);return n>t?n:t}),r(t[0]))},t.exports.sum=function(t,e){const r=o.evaluateFunctionOrProperty(e);return t.reduce(((t,e)=>t+r(e)),0)},t.exports.coalesceDefaultEvaluationFn=function(t,e,r,n){return!(e||null==t||0===t||Array.isArray(t)&&0===t.length||t instanceof Date&&0===t.getTime())},t.exports.coalesce=function(t,e){if(!Array.isArray(t))return t;const r=e||i.coalesceDefaultEvaluationFn,n={};return t.forEach((t=>{o.isObject(t)&&Object.keys(t).forEach((e=>{const s=t[e],o=n[e];r(s,o,e,t)&&(n[e]=s)}))})),n},t.exports.difference=function(t,e){const r=i.extent(t,e);return r.max-r.min},t.exports.avgMean=function(t,e){const r=o.evaluateFunctionOrProperty(e);return t.reduce(((t,e)=>t+r(e)),0)/t.length},t.exports.avgMedian=function(t,e){const r=o.evaluateFunctionOrProperty(e),n=t.map(r).sort(((t,e)=>t-e)),s=Math.floor(t.length/2);return t.length%2==0?(n[s-1]+n[s])/2:n[s]},t.exports.first=function(t,e){const r=o.evaluateFunctionOrProperty(e);let n=null;for(let e=0;e<t.length;e+=1)if(n=r(t[e]),null!=n)return n;return null},t.exports.length=function(t){return t.length},t.exports.unique=function(t,e,r){const n=o.evaluateFunctionOrProperty(e);return r?Array.from(new Set(t.map((t=>r(n(t)))))):Array.from(new Set(t.map(n).reduce(((t,e)=>e instanceof Set||Array.isArray(e)?[...t,...e]:[...t,e]),[])))},t.exports.distinct=function(t,e,r){return i.unique(t,e,r).length},t.exports.countMap=function(t,e,r){const n=o.evaluateFunctionOrProperty(e),s=new Map;return t.forEach((t=>{let e=n(t);r&&(e=r(e)),void 0===e&&(e=null),s.has(e)?s.set(e,s.get(e)+1):s.set(e,1)})),s},t.exports.count=function(t,e,r){const n=i.countMap(t,e,r),s=Array.from(n.entries()).map((([t,e])=>[a.printValue(t),e]));return Object.fromEntries(s)},t.exports.duplicates=function(t,e,r){const n=i.countMap(t,e,r),s=[];return Array.from(n.entries()).forEach((([t,e])=>{e>1&&s.push(t)})),s},t.exports.notIn=function(t,e,r){const n=o.evaluateFunctionOrProperty(e),s=new Set(r),a=new Set;return t.forEach((t=>{const e=n(t);s.has(e)||a.add(e)})),a},t.exports.isUnique=function(t,e){const r=o.evaluateFunctionOrProperty(e),n=new Set;return void 0===t.find((t=>{const e=r(t);if(null==e);else if(!n.has(e))return n.add(e),!1;return!0}))},t.exports.percentile=function(t,e,r){const s=o.propertyFromList(t,e);return n(r>0&&r<1?100*r:r,s)},t.exports.percentile_01=function(t,e){return i.percentile(t,e,1)},t.exports.percentile_05=function(t,e){return i.percentile(t,e,5)},t.exports.percentile_10=function(t,e){return i.percentile(t,e,10)},t.exports.percentile_25=function(t,e){return i.percentile(t,e,25)},t.exports.percentile_50=function(t,e){return i.percentile(t,e,50)},t.exports.percentile_75=function(t,e){return i.percentile(t,e,75)},t.exports.percentile_90=function(t,e){return i.percentile(t,e,90)},t.exports.percentile_95=function(t,e){return i.percentile(t,e,95)},t.exports.percentile_99=function(t,e){return i.percentile(t,e,99)},t.exports.topValues=function(t,e=5,r,...n){let o=t||[];const a=0===n.length?["-"]:n;return o=o.sort(s.createSort(...a)),i.property(o.slice(0,e),r)}},496:(t,e,r)=>{r(533),t.exports={};const n=t.exports;t.exports.SORT_ASCENDING=(t,e)=>t===e?0:t>e?1:-1,t.exports.SORT_DESCENDING=(t,e)=>t===e?0:t>e?-1:1,t.exports.createSort=(...t)=>{if(t.length<1)return n.SORT_ASCENDING;if(1===t.length){if(!t[0])return n.SORT_ASCENDING;if("-"===t[0])return n.SORT_DESCENDING}const e=t.map((t=>{if(t&&t.length>0){if("-"===t[0]){const e=t.slice(1);return(t,r)=>n.SORT_DESCENDING(t[e],r[e])}return(e,r)=>n.SORT_ASCENDING(e[t],r[t])}return(t,e)=>0}));return(t,r)=>{for(const n of e){const e=n(t,r);if(e)return e}}},t.exports.peekFirst=function(t,e=null){return Array.isArray(t)&&t.length>0?t[0]:e},t.exports.peekLast=function(t,e=null){return Array.isArray(t)&&t.length>0?t[t.length-1]:e},t.exports.pickRows=function(t,...e){return(e.length>0&&Array.isArray(e[0])?e[0]:e).map((e=>t[e]))},t.exports.pickColumns=function(t,...e){const r=e.length>0&&Array.isArray(e[0])?e[0]:e;return t.map((t=>r.map((e=>t[e]))))},t.exports.pick=function(t,e){const r=e||{},{rows:s=null,columns:o=null}=r;let a=t;return s&&(a=n.pickRows(a,s)),o&&(a=n.pickColumns(a,o)),a},t.exports.extract=t.exports.pick,t.exports.applyArrayValue=function(t,e,r){if(!t)return t;if(!e)return t;const n=String(e).replace(/\[/g,".").replace(/\]/g,".").replace(/[.]+/g,".").replace(/^[.]+/,"").replace(/[.]$/,"").split("."),s=n.length-1;return n.reduce(((e,n,o)=>o===s?(e[n]=r,t):(e[n]||(e[n]={}),e[n])),t)},t.exports.applyArrayValues=function(t,e,r){if(!t||!e)return t;const s=Array.isArray(t)?t:[t],o=Array.isArray(r)?r:Array(s.length).fill(r),a=Math.min(s.length,o.length);for(let t=0;t<a;t+=1){const r=s[t],a=o[t];n.applyArrayValue(r,e,a)}return t},t.exports.size=function(t,e){return"function"==typeof e?new Array(t).fill(null).map(((t,r)=>e(r))):new Array(t).fill(e)},t.exports.arrange=function(t,e=0,r=1){return Array.from(new Array(t)).map(((t,n)=>n*r+e))},t.exports.arange=t.exports.arrange,t.exports.isMultiDimensional=function(t){return!(!t||!Array.isArray(t))&&void 0!==t.find((t=>Array.isArray(t)))},t.exports.arrayLength2d=function(t){return(t||[]).reduce(((t,e)=>{const r=(e||[]).length;return r>t?r:t}),0)},t.exports.transpose=function(t){if(!t||!Array.isArray(t))return[];if(!Array.isArray(t[0]))return t.map((t=>[t]));const e=t.length,r=n.arrayLength2d(t);let s,o;const a=Array.from(new Array(r)).map((t=>Array.from(new Array(e))));for(s=0;s<r;s+=1)for(o=0;o<e;o+=1)a[s][o]=t[o][s];return a},t.exports.reshape=function(t,e){const r=[];let n,s=[];return t.flat().forEach(((t,o)=>{n=o%e,o>0&&0===n&&(r.push(s),s=[]),s.push(t)})),r.push(s),r},t.exports.clone=function(t){return Array.isArray(t)?t.map((t=>Array.isArray(t)?n.clone(t):t)):t},t.exports.arrangeMulti=function(...t){if(t.length<1)return[];if(1===t.length)return n.arange(t[0]);const e=t[0],r=t.slice(1),s=n.arangeMulti.apply(this,r);return n.size(e,(()=>n.clone(s)))},t.exports.arangeMulti=t.exports.arrangeMulti,t.exports.indexify=function(t,...e){const r="indexify(source, ...sectionIndicatorFunctions)",n=new Array(e.length).fill(0);let s=0;if(!Array.isArray(t))throw new Error(`${r}: source must be an array`);return e.forEach((t=>{if("function"!=typeof t)throw new Error(`${r}: all section indicators passed must be functions`)})),t.map((t=>{let r=!1;return e.forEach(((e,s)=>{r?n[s]=0:(r=!!e(t),r&&(n[s]+=1))})),r?s=0:s+=1,{entry:t,section:[...n],subIndex:s}}))}},662:t=>{t.exports={},t.exports.toBase64=function(t){return Buffer.from(t).toString("base64")},t.exports.fromBase64=function(t){return Buffer.from(t,"base64").toString()}},644:t=>{class e{errorHandlerFn;value;constructor(t){this.value=t}clone(){const t=new e(this.value);return t.errorHandlerFn=this.errorHandlerFn,t}chain(t){try{return this.update(t(this.value))}catch(t){this.handleError(t)}}chainMap(t){if(!Array.isArray(this.value))throw Error(`chainMap expected an array, but was passed:${this.value}`);return this.chain((e=>e.map(t)))}chainForEach(t){if(!(Array.isArray(this.value)||this.value instanceof Set||this.value instanceof Map))throw Error(`chainForEach expects an array, but was passed:${this.value}`);return this.value.forEach(t),this}chainFlatMap(t){if(!Array.isArray(this.value))throw Error(`chainFlatMap expects an array, but was passed:${this.value}`);return this.chain((e=>e.flatMap(t)))}chainFilter(t){if(!Array.isArray(this.value))throw Error(`chainFilter expects an array, but was passed:${this.value}`);return this.chain((e=>e.filter(t)))}chainReduce(t,e){if(!Array.isArray(this.value))throw Error(`chainReduce expected an array, but was passed:${this.value}`);return this.chain((r=>r.reduce(t,e)))}debug(t){return t?t(this.value):this.console(this.value),this}execute(t){return t(this.value),this}errorHandler(t){return this.errorHandlerFn=t,this}replace(t){return this.value=t,this}close(){return this.value}update(t){const r=new e(t);return r.errorHandlerFn=this.errorHandlerFn,r}handleError(t){throw this.errorHandlerFn&&this.errorHandlerFn.apply(this,[t]),console.error(JSON.stringify(t,["name","message"],2)),t}console(t){console.log(t)}toString(){const{context:t,...e}=this;return JSON.stringify(e,2,!1)}inspect(){return this.toString()}toJSON(){const{context:t,...e}=this;return e}}t.exports=function(t){return new e(t)}},624:(t,e,r)=>{const n=r(656),s=r(92);t.exports={};const o=t.exports;t.exports.polyfillFetch=function(){void 0===r.g.fetch&&(r.g.fetch=s)},t.exports.list=()=>Object.keys(n).filter((t=>t.endsWith(".json"))),t.exports.nodeFetch=s,t.exports.fetch=t=>{const e=new Set(o.list());if(!e.has(t))throw new Error(`datasets do not contain[${t}] : ${e}`);return o.polyfillFetch(),n[t]()},t.exports.fetchJSON=async function(t,e){const r=await s(t,e||{});if(!r.ok)throw new Error(`unexpected response ${r.statusText}`);return r.json()},t.exports.fetchText=async function(t,e={}){const r=await s(t,e);if(!r.ok)throw new Error(`unexpected response ${r.statusText}`);return r.text()}},608:(t,e,r)=>{const n=r(778),s=r(914);t.exports={};const o=t.exports;class a{constructor(t,e,r){this.reset(),this.what=t,this.type=e}what;type;count;min;max;reset(){this.count=0,this.max=null,this.min=null}check(t,e){if(n.isEmptyValue(t))return!1;const r=typeof t;if(e&&r!==e)throw Error(`describe: Value passed(${t}) expected to be:${e}, but was: ${r}`);return this.count+=1,!0}checkMinMax(t){(null===this.min||t<this.min)&&(this.min=t),(null===this.max||t>this.max)&&(this.max=t)}finalize(){return{...this}}}class i extends a{mean;constructor(t,e){super(t,"boolean",e),this.reset()}reset(){super.reset(),this.mean=0}static matchesType(t){return n.isBoolean(t)}check(t){if(n.isEmptyValue(t))return;this.count+=1;const e=n.parseBoolean(t)?1:0,r=this.mean;this.mean+=(e-r)/this.count,null===this.max&&1===e&&(this.max=1),null===this.min&&0===e&&(this.min=0)}finalize(){return super.finalize()}}class c extends a{mean;m2;stdDeviation;constructor(t,e){super(t,"number",e),this.reset()}reset(){super.reset(),this.mean=0,this.m2=0,this.stdDeviation=0}static matchesType(t){return"number"==typeof t}check(t){if(!super.check(t,"number"))return;super.checkMinMax(t);const e=this.mean;this.mean+=(t-e)/this.count,this.m2+=(t-e)*(t-this.mean)}finalize(){let t;t=this.count>1?Math.sqrt(this.m2/this.count):0,this.stdDeviation=t;const e=super.finalize();return delete e.m2,e}}class u extends a{uniqueMap;unique;top;topFrequency;constructor(t,e){super(t,"string",e),this.uniqueMap=null,this.reset()}reset(){super.reset(),this.uniqueMap=new Map,this.unique=null,this.top=null,this.topFrequency=null}static matchesType(t){return"string"==typeof t}check(t){if(!super.check(t,"string"))return;if(this.uniqueMap.has(t))return void this.uniqueMap.set(t,this.uniqueMap.get(t)+1);this.uniqueMap.set(t,1);const e=t.length;(null===this.min||e<this.min.length)&&(this.min=t),(null===this.max||e>this.max.length)&&(this.max=t)}finalize(){super.finalize();let t=null,e=null;for(const[r,n]of this.uniqueMap.entries())(null==e||n>e)&&(t=r,e=n);this.top=t,this.topFrequency=e,this.unique=this.uniqueMap.size,this.uniqueMap=null;const r=super.finalize();return delete r.uniqueMap,r}}class l extends a{mean;constructor(t,e){super(t,"Date",e),this.reset()}reset(){super.reset(),this.mean=null}static matchesType(t){return t instanceof Date}check(t){if(n.isEmptyValue(t))return;let e;if(t instanceof Date)e=t.getTime();else{if("number"!=typeof t)throw Error(`describe: Value passed(${t}) - expected to be type:Date`);e=t}this.count+=1;const r=this.mean;this.mean+=(e-r)/this.count,super.checkMinMax(e)}finalize(){return n.isEmptyValue(this.min)||(this.min=new Date(this.min)),n.isEmptyValue(this.max)||(this.max=new Date(this.max)),n.isEmptyValue(this.mean)||(this.mean=new Date(this.mean)),super.finalize()}}t.exports.describeObjects=function(t,e){const r=Array.isArray(t)?t:[t],o=e||{};o.include=o.include?new Set(o.include):null,o.exclude=new Set(o.exclude||[]),o.maxRows=o.maxRows||-1;const p=new Map;let f;return o.overridePropertyType&&s.keys(o.overridePropertyType).forEach((t=>{const e=o.overridePropertyType[t];"string"===e?p.set(t,new u(t,o)):"number"===e?p.set(t,new c(t,o)):"date"===e?p.set(t,new l(t,o)):"boolean"!==e&&"bool"!==e||p.set(t,new u(t,o))})),r.every(((t,e)=>!(o.maxRows>0&&e>=o.maxRows||(s.keys(t).forEach((e=>{f=t[e],o.include&&!o.include.has(e)||o.exclude.has(e)||n.isEmptyValue(f)||(Object.prototype.hasOwnProperty.call(p,e)||(u.matchesType(f)?p[e]=new u(e):l.matchesType(f)?p[e]=new l(e):c.matchesType(f)?p[e]=new c(e):i.matchesType(f)?p[e]=new i(e):p[e]=new a(e,typeof f)),p[e].check(f))})),0)))),s.keys(p).map((t=>p[t].finalize()))},t.exports.describeStrings=function(t,e){const r=Array.isArray(t)?t:[t],n=new u(null,e);return r.forEach((t=>n.check(t))),n.finalize()},t.exports.describeNumbers=function(t,e){const r=Array.isArray(t)?t:[t],n=new c(null,e);return r.forEach((t=>n.check(t))),n.finalize()},t.exports.describeBoolean=function(t,e){const r=Array.isArray(t)?t:[t],n=new i(null,e);return r.forEach((t=>n.check(t))),n.finalize()},t.exports.describeDates=function(t,e){const r=Array.isArray(t)?t:[t],n=new l(null,e);return r.forEach((t=>n.check(t))),n.finalize()},o.stdDeviation=function(t){let e=0;if(t.length<2)return 0;const r=t.reduce(((t,e)=>t+e),0);e=r/t.length;const n=t.reduce(((t,r)=>t+(r-e)**2),0);return Math.sqrt(n/t.length)},o.NumberDescription=c,o.StringDescription=u},778:(t,e,r)=>{t.exports={};const n=t.exports;r(533),t.exports.DURATION={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5},t.exports.DATE_FORMAT={LOCAL:"toLocaleString",LOCAL_DATE:"toLocaleDateString",LOCAL_TIME:"toLocaleTimeString",GMT:"toGMTString",ISO:"toISOString",UTC:"toUTCString",NONE:"NONE"},t.exports.ELLIPSIS="…",t.exports.printValue=function(t,e){const{dateFormat:r=n.DATE_FORMAT.ISO,collapseObjects:s=!1,collapse:o=!1}=e||{};if(null===t)return"null";if(void 0===t)return"undefined";const a=typeof t;return"string"===a?t:"number"===a?t.toLocaleString():t instanceof Date?r===n.DATE_FORMAT.NONE?String(t):t[r||n.DATE_FORMAT.ISO]():t instanceof Map?s||o?`[Map length=${t.size} ]`:JSON.stringify(t,n.mapReplacer):"function"==typeof t[Symbol.iterator]?JSON.stringify(Array.from(t)):"object"===a&&(s||o)?String(t):JSON.stringify(t)},t.exports.zeroFill=function(t,e=3,r="0"){return String(t).padStart(e,r)},t.exports.randomInt=function(t,e=0){return Math.trunc(Math.random()*(t-e)+e)},t.exports.randomFloat=function(t,e=0){return Math.random()*(t-e)+e},t.exports.mapReplacer=function(t,e){return e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e},t.exports.divideR=function(t,e){return{value:Math.trunc(t/e),remainder:t%e}},t.exports.millisecondDuration=function(t){const e={};let r=n.divideR(t,n.DURATION.DAY);return e.days=r.value,r=n.divideR(r.remainder,n.DURATION.HOUR),e.hours=r.value,r=n.divideR(r.remainder,n.DURATION.MINUTE),e.minutes=r.value,r=n.divideR(r.remainder,n.DURATION.SECOND),e.seconds=r.value,e.milliseconds=r.remainder,e.epoch=t,e},t.exports.ellipsify=function(t,e){const r=t?"string"==typeof t?t:JSON.stringify(t):"",n=e>0?e:50;return r.length>n?`${r.substring(0,n)}…`:r},t.exports.mapDomain=function(t,[e,r],[n=0,s=1]){return t<e?n:t>r?s:(t-e)*(s-n)/(r-e)+n},t.exports.mapArrayDomain=function(t,e,r=null){if(!e||!Array.isArray(e))throw Error("mapArrayDomain: targetArray is not an array");if(e.length<1)throw Error("mapArrayDomain: targetArray is not a populated array");const s=r||[],[o=0,a=1]=s;return t<=o?e[0]:t>=a?e[e.length-1]:e[Math.floor(n.mapDomain(t,[o,a],[0,e.length]))]},t.exports.timePeriod=function(t,e=null,r=null){let n=e||(new Date).getTime();return r&&(n-=r),n/t},t.exports.timePeriodPercent=function(t,e=(new Date).getTime()){return e%t/t},t.exports.clampDomain=function(t,[e,r]){return t<e?e:t>r?r:t},t.exports.capitalize=function(t){if(!t||0===t.length)return"";const[e,...r]=t;return e.toLocaleUpperCase()+r.join("")},t.exports.capitalizeAll=function(t){return(t||"").split(/\b/).map(n.capitalize).join("")},t.exports.metricSI=[["Y",{key:"Y",name:"yotta",value:10**24,fullName:"Septillion"}],["Z",{key:"Z",name:"zetta",value:10**21,fullName:"Sextillion"}],["E",{key:"E",name:"exa",value:10**18,fullName:"Quintillion"}],["P",{key:"P",name:"peta",value:10**15,fullName:"Quadrillion"}],["T",{key:"T",name:"tera",value:10**12,fullName:"Trillion"}],["G",{key:"G",name:"giga",value:10**9,fullName:"Billion"}],["M",{key:"M",name:"mega",value:10**6,fullName:"Million"}],["K",{key:"K",name:"kilo",value:1e3,fullName:"Thousand"}],["",{key:"",name:"",value:1,fullName:""}],["c",{key:"c",name:"centi",value:.01,fullName:"Hundredth"}],["m",{key:"m",name:"milli",value:.001,fullName:"Thousandth"}],["μ",{key:"μ",name:"micro",value:10**-6,fullName:"Millionth"}],["n",{key:"n",name:"nano",value:1e-9,fullName:"Billionth"}],["p",{key:"p",name:"pico",value:1e-12,fullName:"Trillionth"}],["f",{key:"f",name:"femto",value:1e-15,fullName:"Quadrillionth"}],["a",{key:"a",name:"atto",value:1e-18,fullName:"Quintillionth"}],["z",{key:"z",name:"zepto",value:10**-21,fullName:"Sextillionth"}],["y",{key:"y",name:"yocto",value:10**-24,fullName:"Septillionth"}]],t.exports.metricSIMap=new Map(n.metricSI),t.exports.compactParse=function(t){const e=(t||"").match(/([\d.]+)([a-zA-Zμ])?/);if(!e)throw Error(`Unable to parse short number:${t}`);const r=parseFloat(e[1]),s=e[2];let o=r;return n.metricSIMap.has(s)&&(o*=n.metricSIMap.get(s).value),o},t.exports.compactNumber=function(t,e=0){if(0===t)return"0";if(Number.isNaN(t)||!t)return"";let r=n.metricSI.find((e=>e[1].value<=t));r||(r=n.metricSI[n.metricSI.length-1]);const s=r[1].value,o=r[0];return(t/s).toFixed(e)+o},t.exports.safeConvertString=function(t,e=null){try{return String(t)}catch(t){return e}},t.exports.safeConvertFloat=function(t,e=NaN){"string"==typeof t&&(t=t.replace(/[^0-9.]/g,""));try{const r=Number.parseFloat(t);return Number.isNaN(r)?e:r}catch(t){return e}},t.exports.safeConvertInteger=function(t,e=NaN,r=10){"string"==typeof t&&(t=t.replace(/[^0-9.]/g,""));try{const n=Number.parseInt(t,r);return Number.isNaN(n)?e:n}catch(t){return e}},t.exports.safeConvertBoolean=function(t){if("string"==typeof t){const e=t.toUpperCase();return"TRUE"===e||"YES"===e||"1"===e}return!!t},t.exports.parseCommand=function(t){if(!t||t.indexOf("(")<0)return[t];const e=t.match(/^([a-zA-Z].+)[(](.*)[)]$/i);let r=[];if(e){const t=(e[2]||"").split(",").map((t=>t.trim())).filter((t=>""!==t));r=[e[1].trim(),t]}else r=[t];return r},t.exports.prepareFormatterObject=function(t){if(!t)throw Error(["ObjectUtils.formatProperties(collection, propertyTranslations): propertyTranslations must be an object, ","with the properties matching those to be formatted, and values as functions returning the new value"].join(""));const e=Array.from(Object.keys(t)),r={...t};return e.forEach((e=>{const s=t[e],o=typeof s;if("function"===o);else if("string"===o){const[t,o=[]]=n.parseCommand(s);r[e]="string"===t?n.safeConvertString:"ellipsify"===t||"elipsify"===t||"ellipsis"===t||"elipsis"===t?t=>n.ellipsify(t,o[0]):"number"===t||"float"===t?n.safeConvertFloat:"int"===t||"integer"===t?n.safeConvertInteger:"bool"===t||"boolean"===t?n.safeConvertBoolean:()=>s}else r[e]=()=>s})),r},t.exports.isEmptyValue=t=>null==t||""===t||Array.isArray(t)&&0===t.length,t.exports.parseBoolean=function(t){return!0===t||1===t||"TRUE"===t||"True"===t||"true"===t},t.exports.isBoolean=function(t){return!0===t||!1===t||1===t||0===t||"TRUE"===t||"FALSE"===t||"True"===t||"False"===t||"true"===t||"false"===t},n.parseLocaleCache=new Map,t.exports.parseNumber=function(t,e="en-US"){const r=typeof t;if("number"===r)return t;if("string"===r){let r;n.parseLocaleCache.has(e)?r=n.parseLocaleCache.get(e):(r=Intl.NumberFormat(e).format("1.1").charAt(1),n.parseLocaleCache.set(e,r));const s=new RegExp(`[^-+0-9${r}]`,"g"),o=t.replace(s,"").replace(r,".");return parseFloat(o)}return t?parseFloat(t):t},t.exports.limitLines=function(t,e,r,s){const o=s||"\n";return("string"==typeof t?t:JSON.stringify(t||"",n.mapReplacer,2)).split(o).slice(r||0,e).join(o)},t.exports.consoleLines=function(t,e,r,s){console.log(n.limitLines(t,e,r,s))},t.exports.stripHtmlTags=function(t){return t?t.replace(/<[^>]+>/g,""):t},t.exports.wordWrap=function(t,e){const r=e||{},{width:n=50,cut:s=!1,trim:o=!0}=r;if(!t||"string"!=typeof t)return t;let a=`.{1,${n}}`;!0!==s&&(a+="([\\s​]+|$)|[^\\s​]+?([\\s​]+|$)");const i=new RegExp(a,"g");let c=t.match(i)||[];return o&&(c=c.map((t=>t.trim()))),c},t.exports.lineCount=function(t,e="\n"){if(!t||"string"!=typeof t)return 0;const r=new RegExp(`${e||"\n"}`,"g"),n=t.match(r);return n?n.length+1:1},t.exports.replaceStrings=function(t,e){const r=t?Array.isArray(t)?t:[t]:[],n=[];return Array.isArray(e)?e.forEach((t=>{if("string"==typeof t)n.push([t,""]);else if(Array.isArray(t)){const[e,r]=t;n.push([e,r||""])}})):e instanceof Map&&[...e.entries()].forEach((([t,e])=>{n.push([t,e||""])})),r.map((t=>t?n.reduce(((t,[e,r])=>t?t.replace(e,r):t),t):t))},t.exports.replaceString=function(t,e){if(Array.isArray(t))throw Error("replaceString(targetStr, stringTupletsOrMap): targetStr was sent an array - please use replaceStrings instead");return n.replaceStrings([t],e)[0]},t.exports.extractWords=function(t,e){if(!t)return t;const r=e?new RegExp(`[${e}\\p{L}]+`,"gu"):/\p{L}+/gu;return(Array.isArray(t)?t:[t]).reduce(((t,e)=>[...t,...(e||"").match(r)||[]]),[])}},582:(t,e,r)=>{const n=r(580),s=r(914);t.exports={};const o=t.exports;t.exports.by=function(t,e,...r){const s=new n;if(!t||!Array.isArray(t)||t.length<1)throw Error("Group.By:Collection is not an array");return s.source=e,t.forEach(((t,r)=>{let n=t[e];n instanceof Date&&(n=n.toISOString()),s.has(n)?s.get(n).push(t):s.set(n,[t])})),r.length>0&&[...s.keys()].forEach((t=>{const e=s.get(t);s.set(t,o.by.apply(this,[e,...r]))})),s},t.exports.rollup=function(t,e,r,...n){return o.by.apply(this,[t,r,...n]).map(e)},t.exports.separateByFields=function(t,...e){if(!t||!Array.isArray(t))throw Error("SeparateByFields: collection should be an array");if(!e||!Array.isArray(e)||e.length<1)throw Error("separateByFields: fields are expected");return e.flatMap((e=>t.map((t=>({...t,key:e,value:t[e]})))))},t.exports.index=function(t,e){const r=new Map;if(!t||!Array.isArray(t)||t.length<1)throw Error("group.index: Collection is not an array");const n=s.evaluateFunctionOrProperty(e);return t.forEach(((t,e)=>{let s=n(t,e);if(s instanceof Date&&(s=s.toISOString()),r.has(s))throw Error(`group.index: found duplicate item with index:${s} \n ${JSON.stringify(r.get(s))}`);r.set(s,t)})),r}},263:(t,e,r)=>{const n=r(778);t.exports={};const s=t.exports;t.exports.add=function(t,e,r){return t.set(e,r),t},t.exports.clone=function(t){if(!(t instanceof Map))throw Error("hashMap.clone(targetMap): targetMap must be a Map");return new Map(t.entries())},t.exports.union=function(t,e,r){if(!(t instanceof Map))return s.clone(e);const n=new Map(t.entries());if(!(e instanceof Map))return n;for(const t of e.keys())n.has(t)&&!r||n.set(t,e.get(t));return n},t.exports.stringify=function(t,e){return JSON.stringify(t,n.mapReplacer,e)},t.exports.toObject=function(t){const e={};if(t){if(!(t instanceof Map))throw Error("hashMap.toObject(map): must be passed a Map");[...t.keys()].forEach((r=>{e[r]=t.get(r)}))}return e},t.exports.fromObject=function(t){if("object"!=typeof t)throw Error("hashMap.fromObject(object): must be passed an object");return"Map"===t.dataType&&Array.isArray(t.value)?new Map(t.value):[...Object.keys(t)].reduce(((e,r)=>s.add(e,r,t[r])),new Map)}},929:(t,e,r)=>{const n=r(341).v4;r(533),t.exports={};const s=t.exports;t.exports.COMMON_GLOBALS=new Set(["global","clearInterval","clearTimeout","setInterval","setTimeout","queueMicrotask","clearImmediate","setImmediate","module","exports","require","$$mimer$$","$$done$$"]),t.exports.COMMON_STATIC=new Set(["length","prototype","name"]),t.exports.await=async function(t){const e=s.detectContext();if(!e)throw Error("IJSUtils.async must be run within iJavaScript. Otherwise, use normal async methods");e.$$.async();try{const r=await t(e.$$,e.console);e.$$.sendResult(r)}catch(t){e.console.error("error occurred"),e.console.error(t),e.$$.sendResult(t)}},t.exports.asyncConsole=(...e)=>r=>(console.log.apply(t.exports,e),r),t.exports.asyncWait=t=>e=>new Promise(((r,n)=>{setTimeout((()=>{r(e)}),1e3*t)})),t.exports.detectContext=function(){return void 0===r.g.$$||void 0===r.g.console?null:{$$:r.g.$$,display:r.g.$$,console:r.g.console}},t.exports.detectIJS=function(){return!!s.detectContext()},t.exports.markdown=function(t,e){s.detectIJS()&&(e||r.g.$$).mime({"text/markdown":t})},t.exports.listGlobals=function(){return Object.keys(r.g).filter((t=>!s.COMMON_GLOBALS.has(t)))},t.exports.listStatic=function(t){return t?Object.getOwnPropertyNames(t).filter((t=>!s.COMMON_STATIC.has(t))).map((e=>{const r=typeof t[e];return{type:r,constructor:t[e].constructor.name,isMethod:"function"===r,name:e}})):[]},t.exports.htmlScript=function(t){const e=s.detectContext();if(!e)throw new Error("ijsUtils.htmlScript: Must be in iJavaScript context to render html");t||(t={});const{debug:r=!1,console:o=!0,html:a="",data:i,utilityFunctions:c={}}=t;let{width:u,height:l,uuid:p,scripts:f,css:h,onReady:d}=t;const m=new Set(["debug","console","width","height","uuid","scripts","css","html","data","onReady","utilityFunctions"]),y=Object.keys(t).filter((t=>!m.has(t)));if(y.length>0)throw Error(`ijsUtils.htmlScript: invalid options: ${y}, must be within: ${[...m].join(", ")}`);let g="";if(c){if("object"!=typeof c)throw Error("ijsUtils.htmlScript: utilityFunctions is an object that has only functions");Object.keys(c).forEach((t=>{if("function"!=typeof c[t])throw Error(`ijsUtils.htmlScript: utilityFunctions must have only functions:${t}`);g+=`utilityFunctions.${t} = ${c[t].toString()};\n`}))}if(u?"number"==typeof u&&(u=`${u}px`):u="100%",l?"number"==typeof l&&(l=`${l}px`):l="200px",f||(f=[]),h||(h=[]),!d)throw Error("ijsUtils.htmlScript: onReadyCode is required");if("function"==typeof d)d=`(${d.toString()})({rootEl, data, utilityFunctions, options, animate})`;else{if("string"!=typeof d)throw Error("ijsUtils.htmlScript: onReadyCode must be a string or function");d=d.trim(),d.endsWith(";")||(d+=";")}p||(p=n());const v=h.map((t=>`\n<link\n  rel="stylesheet"\n  href="${t}"\n  crossorigin=""\n  uuid="${p}"\n/>`)).join("\n");let b=`<html><body>\n  <div uuid="${p}" style="width:${u}; height: ${l}">${a}</div>\n  <div scriptUUID="${p}" ></div>\n  <script>\n    if (typeof globalThis.uuidCountdown === 'undefined') {\n      globalThis.uuidCountdown = new Map();\n    }\n\n    globalThis.uuidCountdown.set('${p}', {\n      scriptIndex: -1,\n      scriptsToLoad: ${JSON.stringify(f)},\n      onReady: (rootUUID) => {\n        ${o?"console.log('IJSUtils.htmlScript:' + rootUUID + ' starting render');":""}\n  \n        ${r?"debugger;":""}\n  \n        const rootEl = document.querySelector('div[uuid="${p}"]');\n\n        const options = {\n          uuid: '${p}',\n          width: '${u}',\n          height: '${l}',\n          scripts: ${JSON.stringify(f)},\n          css: ${JSON.stringify(f)},\n        };\n\n        const animate = function (requestAnimationFrameTarget) {\n          requestAnimationFrame((...passThroughArgs) => {\n            if (!document.contains(rootEl)) {\n              console.log('old animation stopping. rootEl has been removed from DOM');\n              return;\n            }\n            requestAnimationFrameTarget.apply(globalThis, passThroughArgs);\n          })\n        }\n\n        //-- ijsUtils.htmlScipt options.data\n        const data = ${JSON.stringify(i)};\n\n        //-- ijsUtils.htmlScript options.utilityFunctions start\n        const utilityFunctions = {};\n        ${g}\n        //-- ijsUtils.htmlScript options.utiiltyFunctions end\n\n        //-- ijsUtils.htmlScript options.onRender start\n        ${d}\n        //-- ijsUtils.htmlScript options.onRender end\n  \n        ${o?"console.log('IJSUtils.htmlScript:' + rootUUID + ' ending render');":""}\n      }\n    });\n\n    //-- script tags created dynamically have race conditions, load sequentially\n    function externalScriptLoaded(rootUUID) {\n      const result = globalThis.uuidCountdown.get(rootUUID);\n      result.scriptIndex += 1;\n      if (result.scriptIndex >= result.scriptsToLoad.length) {\n        result.onReady(rootUUID);\n        globalThis.uuidCountdown.delete(rootUUID);\n      } else {\n        const newScript = document.createElement('script');\n        newScript.src = result.scriptsToLoad[result.scriptIndex];\n        newScript.crossorigin='';\n        newScript.uuid=rootUUID;\n        newScript.onload = () => externalScriptLoaded(rootUUID);\n\n        const scriptRoot = document.querySelector('div[scriptUUID="' + rootUUID + '"]');\n        scriptRoot.append(newScript);\n      }\n    }\n\n    externalScriptLoaded('${p}');\n  <\/script>\n  ${v}\n</body></html>\n`;return b=b.replace(/\n[ \t]*\n\s*\n/g,"\n\n").replace(/\n[ \t]*\n/g,"\n\n"),e.$$.html(b),b}},914:(t,e,r)=>{const n=r(635),s=r(778);t.exports={};const o=t.exports;t.exports.evaluateFunctionOrProperty=function(t){if(!t)return t=>t;if("string"==typeof t)return t.match(/[[.]/)?e=>o.fetchObjectProperty(e,t,{safeAccess:!0}):e=>e[t];if("function"==typeof t)return t;throw Error("Send either a Function or Property Name or null for a simple array")};const a=t=>t?Object.keys(t):[],i=(t,e)=>(t.forEach((t=>e.add(t))),e);t.exports.MAX_COLLAPSE_DEPTH=50,t.exports.assign=function(t,e,r,...n){if(null==e)throw Error("Expecting at least one property name to be passed");if("string"!=typeof e)throw Error(`Property must be a string:${e}`);return t||(t={}),t[e]=r,n.length>0&&o.objAssign.apply(o,[t,...n]),t},t.exports.objAssign=t.exports.assign,t.exports.assignEntities=function(t,e){if(t||(t={}),!Array.isArray(e))throw Error("objAssignEntities: entities must be an array [[property, value]]");if(e.length<1)throw Error("objAssignEntities: at least one entity must be sent");return e.forEach((([e,r])=>{t[e]=r})),t},t.exports.objAssignEntities=t.exports.assignEntities,t.exports.augment=function(t,e,r=!1){const n=Array.isArray(t)?t:[t];let s;return r?(n.forEach((t=>{Object.assign(t,e(t))})),s=n):s=n.map((t=>({...t,...e(t)}))),s},t.exports.mapByProperty=function(t,e){if(!e)throw new Error("object.mapByProperty: expects a propertyName");const r=o.evaluateFunctionOrProperty(e);return(t||[]).reduce(((t,e)=>(t.set(r(e),e),t)),new Map)},t.exports.keys=function(t={},e=-1){if(!Array.isArray(t))return a(t);const r=new Set;return e<1?t.every(((t,e)=>i(a(t),r))):t.every(((t,n)=>!(n>=e||(i(a(t),r),0)))),Array.from(r)},t.exports.cleanProperties=function(t){return o.renameProperties(t,o.cleanPropertyNames(t))},t.exports.cleanProperties2=function(t){const e=o.cleanPropertyNames(t),r=o.keys(e);return{labels:r.reduce(((t,r)=>o.objAssign(t,e[r],o.lightlyCleanProperty(r))),{}),values:(t||[]).map((t=>r.reduce(((r,n)=>o.objAssign(r,e[n],t[n])),{})))}},t.exports.lightlyCleanProperty=function(t){return t.trim().replace(/^["']/,"").replace(/['"]$/,"")},t.exports.cleanPropertyNames=function(t){let e;if(!t)return{};e=Array.isArray(t)?"string"==typeof t[0]?t:o.keys(t):Object.keys(t);const r={};return e.forEach((t=>{r[t]=o.cleanPropertyName(t)})),r},t.exports.cleanPropertyName=function(t){return t.trim().replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s+/g,"_")};const c=function(t,e,r){const n={...t};return e.forEach(((t,e)=>{const s=r[e];s!==t&&(n[s]=n[t],delete n[t])})),n};t.exports.renameProperties=function(t,e){const r=Object.keys(e),n=Object.values(e);return Array.isArray(t)?t.map((t=>c(t,r,n))):c(t,r,n)};const u=function t(e,r,n){if(!(n>o.MAX_COLLAPSE_DEPTH))return r&&Object.getOwnPropertyNames(r).forEach((s=>{"object"==typeof r[s]?t(e,r[s],n+1):e[s]=r[s]})),e};t.exports.collapse=function(t){return u({},t,0)},t.exports.isObject=t=>!(null==t||"object"!=typeof t||Array.isArray(t)||t instanceof Date),t.exports.flattenObjectOntoAnother=function(t,e,r){const n=e||{},s=r||"";return o.isObject(t)?(o.keys(t).forEach((e=>{const r=`${s}${e}`,a=t[e];o.isObject(a)?o.flattenObjectOntoAnother(a,n,`${r}.`):n[r]=a})),n):t},t.exports.flatten=function(t){return o.flattenObjectOntoAnother(t)},t.exports.expand=function(t){if(!o.isObject(t))return t;const e={};return o.keys(t).forEach((r=>{o.applyPropertyValue(e,r,t[r])})),e},t.exports.selectObjectProperties=function(t,...e){const r=e.length>0&&Array.isArray(e[0])?e[0]:e;return t?(Array.isArray(t)?t:[t]).map((t=>r.reduce(((e,r)=>o.objAssign(e,r,t[r])),{}))):[]},t.exports.filterObjectProperties=function(t,e){return t?(Array.isArray(t)?t:[t]).map((t=>{const r={...t};return e.forEach((t=>delete r[t])),r})):[]},t.exports.extractObjectProperty=function(t,e){let r=t?Array.isArray(t)?t:[t]:[];r=r.filter((t=>t));const n=o.evaluateFunctionOrProperty(e);return r.map(n)},t.exports.extractObjectProperties=function(t,e){let r=[];if(!e)return[];if(Array.isArray(e))for(let t=0;t<e.length;t+=1){const n=e[t];"string"==typeof n?r.push([n,n]):Array.isArray(n)&&r.push(n)}else{if(!(e instanceof Map))throw Error("object.extractObjectProperties(list:Object[], propertyOrFnMap:Map<String, stringOrFn>): propertyOrFnMap must be a map of propertyName keys, with a function or property name as the value");r=[...e.entries()]}const n={};return r.forEach((([e,r])=>{n[e]=o.extractObjectProperty(t,r||e)})),n},t.exports.fetchObjectProperties=function(t,e,r={}){if(!t)return[];const n=Array.isArray(t)?t:[t],{append:s=!1}=r,a=Object.getOwnPropertyNames(e);return n.map((t=>{const n=s?{...t}:{};return a.forEach((s=>{n[s]=o.fetchObjectProperty(t,e[s],r)})),n}))},t.exports.fetchObjectProperty=function(t,e,r={}){if(!t||!e)return null;const{safeAccess:n=!1}=r;return String(e).replace(/\[/g,".").replace(/\]/g,".").replace(/[.]+/g,".").replace(/^[.]+/,"").replace(/[.]$/,"").split(".").reduce(((t,r)=>{let s=!1,o=r;if(r&&r.length>0&&"?"===r[0]&&(s=!0,o=r.slice(1)),t)return t[o];if(n||s)return null;throw Error(`Invalid property ${e} [${r}] does not exist - safeAccess:${n}`)}),t)},t.exports.applyPropertyValue=function(t,e,r){if(!t)return t;if(!e)return t;const n=String(e).replace(/\[/g,".").replace(/\]/g,".").replace(/[.]+/g,".").replace(/^[.]+/,"").replace(/[.]$/,"").split("."),s=n.length-1;return n.reduce(((e,n,o)=>o===s?(e[n]=r,t):(e[n]||(e[n]={}),e[n])),t)},t.exports.applyPropertyValues=function(t,e,r){if(!t||!e)return t;const n=Array.isArray(t)?t:[t],s=Array.isArray(r)?r:Array(n.length).fill(r),a=Math.min(n.length,s.length);for(let t=0;t<a;t+=1){const r=n[t],a=s[t];o.applyPropertyValue(r,e,a)}return t},t.exports.formatProperties=function(t,e){const r=t?Array.isArray(t)?t:[t]:[];e=s.prepareFormatterObject(e);const n=Array.from(Object.keys(e));return r.map((t=>{const r={...t};return n.forEach((t=>{r[t]=e[t](r[t])})),r}))},t.exports.getObjectPropertyTypes=function(t){const e=t?Array.isArray(t)?t:[t]:[],r=new Map;let n;return e.forEach((t=>{t&&Object.keys(t).forEach((e=>{n=typeof t[e],null===t[e]||void 0===t[e]||(r.has(n)?r.get(n).add(e):r.set(n,new Set([e])))}))})),r},t.exports.generateSchema=function(t){return n.json(t)},t.exports.join=function(t,e,r,n){const s=t?Array.isArray(t)?t:[t]:[],a=o.evaluateFunctionOrProperty(e);if(!r)throw Error("object.join(objectArray, indexField, targetMap, joinFn): targetMap cannot be null");if(!n||"function"!=typeof n)throw Error("object.join(objectArray, indexField, targetMap, joinFn): joinFn is required");return s.map((t=>{if(!t)return t;const e=a(t),s=r.has(e)?r.get(e):null;return n(t,s)}))},t.exports.joinProperties=function(t,e,r,...n){const s=n.filter((t=>t));if(s.length<1)throw Error("object.joinProperties(objectArray, indexField, targetMap, ...fields): at least one property passed to join");return o.join(t,e,r,((t,e)=>{const r=e||{},n=t;return s.forEach((t=>{n[t]=r[t]})),n}))},t.exports.propertyFromList=function(t,e){const r=Array.isArray(t)?t:[],n=o.evaluateFunctionOrProperty(e);return r.map(n)},t.exports.findWithoutProperties=function(t,...e){const r=e.length>0&&Array.isArray(e[0])?e[0]:e,n=Array.isArray(t)?t:[t],s=[];return n.forEach((t=>{r.find((e=>void 0===t[e]))&&s.push(t)})),s},t.exports.findWithProperties=function(t,...e){const r=e.length>0&&Array.isArray(e[0])?e[0]:e,n=Array.isArray(t)?t:[t],s=[];return n.forEach((t=>{r.find((e=>void 0!==t[e]))&&s.push(t)})),s},t.exports.setPropertyDefaults=function(t,e){const r=Array.isArray(t)?t:[t];if(!e||"object"!=typeof e)throw Error("object.setPropertyDefaults(targetObject, defaultObject): defaultObject is expected to be an object with properties set to the defaults to apply");const n=Object.getOwnPropertyNames(e);r.forEach((t=>{n.forEach((r=>{void 0===t[r]&&(t[r]=e[r])}))}))},t.exports.mapProperties=function(t,e,...r){const n=Array.isArray(t)?t:[t],s=0===r.length?o.keys(t):r.length>0&&Array.isArray(r[0])?r[0]:r;if("function"!=typeof e)throw Error("object.mapProperties(collection, formattingFn, ...propertiesToFormat): formattingFn must be provided");return n.map((t=>{const r={...t};return s.forEach((n=>{r[n]=e(t[n])})),r}))},t.exports.propertyValueSample=function(t){if(!t)throw new Error("propertyValueSample(objectCollection): objectCollection is required");const e=Array.isArray(t)?t:[t],r=new Map;let n;return e.forEach((t=>{if(t&&"object"==typeof t)for(const e of Object.keys(t))n=t[e],s.isEmptyValue(n)||r.has(e)||r.set(e,n)})),r},t.exports.augmentInherit=function(t,e){const r="augmentInherit(source, augmentFn)";if(!Array.isArray(t))throw new Error(`${r}: source must be an array`);if("function"!=typeof e)throw new Error(`${r}: augmentFn must be a function of signature: (entry, lastValue) => obj`);let n,s={};return t.map(((t,r)=>{const o=e(t,s),a={...s};let i=!1;n=Object.keys(o||{}),n.forEach((t=>{i?a[t]=void 0:void 0!==o[t]&&(a[t]=o[t],i=!0)}));const c={...t,...a};return s=a,c}))},t.exports.propertyInherit=function(t,...e){if(!Array.isArray(t))throw new Error("propertyInherit(source, ...properties): source must be an array");return e.length<1?t:o.augmentInherit(t,(t=>e.reduce(((e,r)=>o.objAssign(e,r,t[r])),{})))},t.exports.union=function(t,e){const r="union(source1:object[], source2:object[])";let n,s,o,a,i,c;if(Array.isArray(t))n=t.entries(),o=t.length;else{if("object"!=typeof t)throw new Error(`${r}: source1 must be a collection of objects, or a single object`);n={next:()=>({done:!1,value:[0,t]})},o=1}if(Array.isArray(e))a=e.entries(),c=e.length;else{if("object"!=typeof e)throw new Error(`${r}: source2 must be a collection of objects, or a single object`);a={next:()=>({done:!1,value:[0,e]})},c=1}const u=Math.max(o,c),l=new Array(u);for(let t=0;t<u;t+=1)s=n.next(),s=s.done?{}:s.value[1],i=a.next(),i=i.done?{}:i.value[1],l[t]={...s,...i};return l}},854:(t,e,r)=>{const n=r(963),s=t.exports;t.exports.seedValue=Date.now()%1e4,t.exports.seed=function(t){s.seedValue=t},t.exports.getSeed=function(){return s.seedValue},t.exports.randomInteger=function(t=0,e=100){const r=void 0!==s?s.seedValue:void 0;return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random(r)*(e-t+1)+t)},t.exports.random=function(t=0,e=1){const r=void 0!==s?s.seedValue:void 0;return 0===t&&1===e?Math.random(r):Math.random(r)*(e-t)+t},t.exports.pickRandom=function(t){if(!t||!Array.isArray(t))throw Error("utils.random.pickRandom(targetArray): targetArray must be an array");const e=void 0!==s?s.seedValue:void 0;if(t.length<1)return null;if(1===t.length)return t[0];const r=t.length;return t[Math.floor(Math.random(e)*(r-0)+0)]},t.exports.randomArray=function(t,e){if(t<0)throw Error("random.randomArray(size, fn): array size cannot be less than 1");const r=void 0!==s?s.seedValue:void 0,n=e||(()=>Math.random(r));return Array(t).fill(void 0).map(((t,e)=>n()))},t.exports.simplexGenerator=n},963:t=>{t.exports=function(t){const e=.5*(Math.sqrt(3)-1),r=(3-Math.sqrt(3))/6,n=1/3,s=1/6;function o(t){function e(t,e,r){this.x=t,this.y=e,this.z=r}e.prototype.dot2=function(t,e){return this.x*t+this.y*e},e.prototype.dot3=function(t,e,r){return this.x*t+this.y*e+this.z*r},this.grad3=[new e(1,1,0),new e(-1,1,0),new e(1,-1,0),new e(-1,-1,0),new e(1,0,1),new e(-1,0,1),new e(1,0,-1),new e(-1,0,-1),new e(0,1,1),new e(0,-1,1),new e(0,1,-1),new e(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(t||0)}return o.prototype.seed=function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(let e=0;e<256;e+=1){let r;r=1&e?this.p[e]^255&t:this.p[e]^t>>8&255,this.perm[e]=this.perm[e+256]=r,this.gradP[e]=this.gradP[e+256]=this.grad3[r%12]}},o.prototype.simplex2d=function(t,n){let s,o,a,i,c,u=(t+n)*e,l=Math.floor(t+u),p=Math.floor(n+u),f=(l+p)*r,h=t-l+f,d=n-p+f;h>d?(i=1,c=0):(i=0,c=1);let m=h-i+r,y=d-c+r,g=h-1+2*r,v=d-1+2*r;l&=255,p&=255;let b=this.gradP[l+this.perm[p]],x=this.gradP[l+i+this.perm[p+c]],j=this.gradP[l+1+this.perm[p+1]],w=.5-h*h-d*d;w<0?s=0:(w*=w,s=w*w*b.dot2(h,d));let A=.5-m*m-y*y;A<0?o=0:(A*=A,o=A*A*x.dot2(m,y));let E=.5-g*g-v*v;return E<0?a=0:(E*=E,a=E*E*j.dot2(g,v)),70*(s+o+a)},o.prototype.simplex3d=function(t,e,r){let o,a,i,c,u,l,p,f,h,d,m=(t+e+r)*n,y=Math.floor(t+m),g=Math.floor(e+m),v=Math.floor(r+m),b=(y+g+v)*s,x=t-y+b,j=e-g+b,w=r-v+b;x>=j?j>=w?(u=1,l=0,p=0,f=1,h=1,d=0):x>=w?(u=1,l=0,p=0,f=1,h=0,d=1):(u=0,l=0,p=1,f=1,h=0,d=1):j<w?(u=0,l=0,p=1,f=0,h=1,d=1):x<w?(u=0,l=1,p=0,f=0,h=1,d=1):(u=0,l=1,p=0,f=1,h=1,d=0);let A=x-u+s,E=j-l+s,S=w-p+s,O=x-f+2*s,T=j-h+2*s,$=w-d+2*s,N=x-1+.5,M=j-1+.5,C=w-1+.5;y&=255,g&=255,v&=255;let F=this.gradP[y+this.perm[g+this.perm[v]]],k=this.gradP[y+u+this.perm[g+l+this.perm[v+p]]],I=this.gradP[y+f+this.perm[g+h+this.perm[v+d]]],D=this.gradP[y+1+this.perm[g+1+this.perm[v+1]]],P=.5-x*x-j*j-w*w;P<0?o=0:(P*=P,o=P*P*F.dot3(x,j,w));let R=.5-A*A-E*E-S*S;R<0?a=0:(R*=R,a=R*R*k.dot3(A,E,S));let L=.5-O*O-T*T-$*$;L<0?i=0:(L*=L,i=L*L*I.dot3(O,T,$));let U=.5-N*N-M*M-C*C;return U<0?c=0:(U*=U,c=U*U*D.dot3(N,M,C)),32*(o+a+i+c)},new o(t)}},829:t=>{t.exports={};const e=t.exports;t.exports.add=function(t,...r){return e.union(t,r)},t.exports.union=function(t,r,...n){const s=t instanceof Set?t:new Set(t);if(r)for(let t of r)s.add(t);return n.length>0?e.union.apply(this,[s,...n]):s},t.exports.intersection=function(t,r,...n){const s=t instanceof Set?t:new Set(t),o=new Set([...r].filter((t=>s.has(t))));return n.length>0?e.intersection.apply(this,[o,...n]):o},t.exports.remove=function(t,...r){return e.difference(t,r)},t.exports.difference=function(t,e){const r=t instanceof Set?t:new Set(t);if(e)for(let t of e)r.delete(t);return r},t.exports.findItemsNotContained=function(t,e){const r=t instanceof Set?t:new Set(t),n=new Set;if(e)for(const t of e)r.has(t)||n.add(t);return n}},635:(t,e,r)=>{e.generic=r(765),e.mongoose=r(619),e.bigquery=r(156),e.mysql=r(318),e.json=r(112),e.clickhouse=r(82)},156:(t,e,r)=>{var n=r(22);function s(t){return Array.isArray(t)?"REPEATED":"NULLABLE"}function o(t){if(Array.isArray(t))return o(t[0]);if(t instanceof Date)return"TIMESTAMP";if("object"==typeof t)return"RECORD";if("boolean"==typeof t)return"BOOLEAN";if("string"==typeof t){if(n.isDateString(t))return"DATE";if(n.isTimestamp(t))return"TIMESTAMP"}return isNaN(t)?"STRING":Number.isInteger(parseFloat(t))?"INTEGER":"FLOAT"}function a(t){return Object.keys(t).map((function(e){var r=t[e],n={name:e,type:o(t[e]),mode:s(t[e])};return"RECORD"===n.type&&(n.fields=a("REPEATED"===n.mode?r[0]:r)),n}))}t.exports=function(t){return a(t)}},82:(t,e,r)=>{var n=r(68),s=r(22),o={boolean:"String",string:"String",number:"Int32",date:"Date",timestamp:"DateTime",object:"Nested",regexp:"String",undefined:"String",null:"String"},a=function(t,e){return["  ",t," ",e,","].join("")};function i(t,e,r){var c,u,l,p,f=e.tableName,h=e.parentTableName,d=e.parentTableId,m=e.parentTableIdType,y=Object.keys(t),g=[],v=[],b=null,x="string";g.push(function(t){return["CREATE TABLE ",t," ("].join("")}(f)),h&&g.push(a(h+"_"+d,o[m]));for(var j=0;j<y.length;j++)("id"===y[j].toLowerCase()||y[j].toLowerCase().indexOf("_id")>-1)&&(t[c=y[j]]=t[y[j]],y[j]=c,b=y[j],x=typeof t[y[j]]);for(b||(b="id",x=m||x,g.push(a(b,o[x]))),j=0;j<y.length;j++)if("date"!=(p=(l=t[u=y[j]])instanceof Date?"date":n.string(l).toLowerCase())||r||(r=u),"undefined"!==p&&(p=s.isTimestamp(l)?"timestamp":p),"function"!==p)if("object"!==p||l.length)if("object"!==p&&"array"!==p)g.push(a(u,o[p]));else{if("object"==typeof l[0]){v.push(""),v.push(i(l[0],{parentTableName:f,parentTableId:b,parentTableIdType:x,tableName:f+"_"+u}).join(""));continue}v.push(""),v.push(i({value:typeof l[0]},{parentTableName:f,parentTableId:b,parentTableIdType:x,tableName:f+"_"+u}).join(""))}else v.push(""),v.push(i(l,{parentTableName:f,parentTableId:b,parentTableIdType:x,tableName:f+"_"+u}).join(""));return g[g.length-1]=s.arrayLastItem(g).substr(0,s.arrayLastItem(g).length-1),g.push(function(t,e){return e?[") ENGINE = MergeTree(",e,", (",t,", ",e,"), 8192);"].join(""):[") ENGINE = Memory;"].join("")}(b,r)),g.concat(v)}t.exports=function(t,e,r){return"string"!=typeof t&&(e=t,t="generic"),r||(r=null),i(e,{tableName:t},r).join("")}},765:(t,e,r)=>{var n=r(68),s=r(22);t.exports=function t(e,r){for(var o in r=r||{},e){var a=e[o],i=n.string(a).toLowerCase();"undefined"===i&&(i="null"),"string"===i&&s.isDate(a)&&(i="date"),"object"!==i?r[o]={type:i}:(r[o]=t(e[o]),r[o].type=i)}return r}},112:(t,e,r)=>{var n=r(68);function s(t){return"date"===n.string(t).toLowerCase()?"date-time":null}function o(t){var e=n.string(t).toLowerCase();return"date"===e||"regexp"===e||"function"===e?"string":e}function a(t,e,r){var n,s,o;t=Object.keys(t),r=r||[];for(var a=0,i=(e=Object.keys(e)).length;a<i;a++)n=e[a],o=t.indexOf(n),s=r.indexOf(n),-1===o?-1!==s&&r.splice(s,1):-1===s&&r.push(n);return r}function i(t,e,r){var u,l,p;r&&e?e={items:e}:((e=e||{}).type=o(t),e.items=e.items||{},p=e.items.type||null);for(var f=0,h=t.length;f<h;f++){var d=o(t[f]),m=s(t[f]);if(p&&d!==p){e.items.oneOf=[],l=!0;break}p=d,u=m}if(!l&&p?(e.items.type=p,u&&(e.items.format=u)):l&&"object"!==p&&(e.items={oneOf:[{type:p}],required:e.items.required}),void 0!==e.items.oneOf||"object"===p)for(var y=0,g=t.length;y<g;y++){var v,b=t[y],x=o(b),j=s(b);if("object"===x?(e.items.properties&&(e.items.required=a(e.items.properties,b,e.items.required)),v=c(b,l?{}:e.items.properties,!0)):"array"===x?v=i(b,l?{}:e.items.properties,!0):((v={}).type=x,j&&(v.format=j)),l){var w=n.string(b).toLowerCase(),A={};v.type||"object"!==w||(A.properties=v,A.type="object",v=A),e.items.oneOf.push(v)}else{if("object"!==e.items.type)continue;e.items.properties=v}}return r?e.items:e}function c(t,e,r){for(var n in r&&e?e={properties:e}:((e=e||{}).type=o(t),e.properties=e.properties||{}),t){var a=t[n],u=o(a),l=s(a);if("object"!==(u="undefined"===u?"null":u))if("array"!==u)if(e.properties[n]){var p=e.properties[n],f=Array.isArray(p.type);f&&p.type.indexOf(u)<0&&p.type.push(u),f||p.type===u||(p.type=[p.type,u])}else e.properties[n]={},e.properties[n].type=u,l&&(e.properties[n].format=l);else e.properties[n]=i(a,e.properties[n]);else e.properties[n]=c(a,e.properties[n])}return r?e.properties:e}t.exports=function(t,e){var r,s={$schema:"http://json-schema.org/draft-04/schema#"};return"string"!=typeof t?(e=t,t=void 0):s.title=t,s.type=n.string(e).toLowerCase(),"object"===s.type&&(r=c(e),s.type=r.type,s.properties=r.properties),"array"===s.type&&(r=i(e),s.type=r.type,s.items=r.items,s.title&&(s.items.title=s.title,s.title+=" Set")),s}},619:(t,e,r)=>{var n=r(68),s=r(22);function o(t){switch(t){case"array":return"Array";case"buffer":return"Buffer";case"boolean":return"Boolean";case"date":return"Date";case"number":return"Number";case"string":return"String";case"objectid":return"ObjectId";default:return"Mixed"}}t.exports=function t(e,r){for(var a in r=r||{},e){var i=e[a],c=null,u=null,l=null;if(i instanceof Buffer&&(l="buffer"),null!=i&&void 0!==i.toString&&i.toString().match(/^[0-9a-fA-F]{24}$/)&&(l="objectid"),l||(l=n.string(i).toLowerCase()),"string"===l&&s.isDate(i)&&(l="date"),"object"===l)r[a]=t(e[a]);else{if("undefined"===l&&(l="null"),"array"===l&&i.length){c=l,l=void 0;for(var p=0,f=i.length;p<f;p++){if(u=n.string(i[p]).toLowerCase(),l&&u!==l){l="mixed";break}l=u}}r[a]=c&&"array"===c?{type:[o(l)]}:{type:o(l)}}}return r}},318:(t,e,r)=>{var n=r(68),s=r(22),o={boolean:"BOOLEAN",string:"TEXT",number:"INT",date:"DATE",timestamp:"TIMESTAMP",regexp:"TEXT",undefined:"TEXT",null:"TEXT"},a=function(t,e){return["  ",t," ",e,","].join("")};function i(t,e){var r,c,u,l,p=e.tableName,f=e.parentTableName,h=e.parentTableId,d=e.parentTableIdType,m=Object.keys(t),y=[],g=[],v=null,b="string";y.push(function(t){return["CREATE TABLE ",t," ("].join("")}(p)),f&&y.push(a(f+"_"+h,o[d]));for(var x=0;x<m.length;x++)("id"===m[x].toLowerCase()||m[x].toLowerCase().indexOf("_id")>-1)&&(t[r=m[x]]=t[m[x]],m[x]=r,v=m[x],b=typeof t[m[x]]);for(v||(v="id",b=d||b,y.push(a(v,o[b]))),x=0;x<m.length;x++)if("undefined"!==(l=(u=t[c=m[x]])instanceof Date?"date":n.string(u).toLowerCase())&&(l=s.isTimestamp(u)?"timestamp":l),"function"!==l)if("object"!==l||u.length)if("object"!==l&&"array"!==l)y.push(a(c,o[l]));else{if("object"==typeof u[0]){g.push(""),g.push(i(u[0],{parentTableName:p,parentTableId:v,parentTableIdType:b,tableName:p+"_"+c}).join("\n"));continue}g.push(""),g.push(i({value:typeof u[0]},{parentTableName:p,parentTableId:v,parentTableIdType:b,tableName:p+"_"+c}).join("\n"))}else g.push(""),g.push(i(u,{parentTableName:p,parentTableId:v,parentTableIdType:b,tableName:p+"_"+c}).join("\n"));return y.push(function(t){return["  PRIMARY KEY (",t,"),"].join("")}(v)),f&&y.push(["  FOREIGN KEY (",f+"_id",") REFERENCES ",f,"(",h,"),"].join("")),y[y.length-1]=s.arrayLastItem(y).substr(0,s.arrayLastItem(y).length-1),y.push(");"),y.concat(g)}t.exports=function(t,e){return"string"!=typeof t&&(e=t,t="generic"),i(e,{tableName:t}).join("\n")}},22:(t,e)=>{var r=/\d{4}-\d{2}-\d{2}/;e.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},e.isDate=function(t){return"Invalid Date"!==new Date(t).toString()&&!isNaN(new Date(t))},e.isTimestamp=function(t){return t.length>18&&!isNaN(new Date(t).getTime())},e.isDateString=function(t){return t.match(r)},e.arrayLastItem=function(t){return t[t.length-1]}},92:(t,e,r)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response},734:t=>{function e(t,e){return 0===t?e[0]:e[Math.ceil(e.length*(t/100))-1]}t.exports=function(t,r,n){var s=Array.isArray(t)?t:[t],o=function(t){return t.reduce((function(t,e){return isNaN(Number(e))?t.push(function(t){return'Expect percentile to be a number but given "'+t+'" and its type is "'+typeof t+'".'}(e)):e<0?t.push(function(t){return'Expect percentile to be >= 0 but given "'+t+'" and its type is "'+typeof t+'".'}(e)):e>100&&t.push(function(t){return'Expect percentile to be <= 100 but given "'+t+'" and its type is "'+typeof t+'".'}(e)),t}),[])}(s);if(o.length)throw new Error(o.join(" "));return r=r.slice().sort((function(t,e){return n&&(t=n(t),e=n(e)),(t=Number.isNaN(t)?Number.NEGATIVE_INFINITY:t)>(e=Number.isNaN(e)?Number.NEGATIVE_INFINITY:e)?1:t<e?-1:0})),1===s.length?e(s[0],r):s.map((function(t){return e(t,r)}))}},68:t=>{t.exports=function(){var t,e,r,n=(e=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error],r=e.length,function(t){for(var n=0;n<r;n++)if(e[n]===t)return!0;return!1}),s=(t={}.toString,function(e){var r=t.call(e).slice(8,-1);if(null==e)return r.toLowerCase();var s=o(e);return s&&!n(s)?s.name:r});function o(t){return null==t?t:t.constructor}function a(t,e){return(o(e)===String?s:o)(t)===e}function i(t,e){return t instanceof e}function c(t,e){if(!a(e,Array))throw"Second argument to .any() should be array";for(var r=0;r<e.length;r++)if(a(t,e[r]))return!0;return!1}var u=function(t,e){return 1==arguments.length?o(t):a(e,Array)?c(t,e):a(t,e)};return u.instance=i,u.string=s,u.of=o,u.is=a,u.any=c,u.extension=function(t,e){return i(t.prototype,e)},u}()},341:(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>l});var s=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var i=[],c=0;c<256;++c)i.push((c+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&a.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},l=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=n[s];return e}return u(n)}},656:function(t){t.exports=function(){"use strict";var t={},e={};function r(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function n(t){var e=Object.create(null),r=[];return t.forEach((function(t){for(var n in t)n in e||r.push(e[n]=n)})),r}function s(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function o(t){var e,r=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+s(-e,6):e>9999?"+"+s(e,6):s(e,4))+"-"+s(t.getUTCMonth()+1,2)+"-"+s(t.getUTCDate(),2)+(a?"T"+s(r,2)+":"+s(n,2)+":"+s(o,2)+"."+s(a,3)+"Z":o?"T"+s(r,2)+":"+s(n,2)+":"+s(o,2)+"Z":n||r?"T"+s(r,2)+":"+s(n,2)+"Z":"")}var a=function(s){var a=new RegExp('["'+s+"\n\r]"),i=s.charCodeAt(0);function c(r,n){var s,o=[],a=r.length,c=0,u=0,l=a<=0,p=!1;function f(){if(l)return e;if(p)return p=!1,t;var n,s,o=c;if(34===r.charCodeAt(o)){for(;c++<a&&34!==r.charCodeAt(c)||34===r.charCodeAt(++c););return(n=c)>=a?l=!0:10===(s=r.charCodeAt(c++))?p=!0:13===s&&(p=!0,10===r.charCodeAt(c)&&++c),r.slice(o+1,n-1).replace(/""/g,'"')}for(;c<a;){if(10===(s=r.charCodeAt(n=c++)))p=!0;else if(13===s)p=!0,10===r.charCodeAt(c)&&++c;else if(s!==i)continue;return r.slice(o,n)}return l=!0,r.slice(o,a)}for(10===r.charCodeAt(a-1)&&--a,13===r.charCodeAt(a-1)&&--a;(s=f())!==e;){for(var h=[];s!==t&&s!==e;)h.push(s),s=f();n&&null==(h=n(h,u++))||o.push(h)}return o}function u(t,e){return t.map((function(t){return e.map((function(e){return p(t[e])})).join(s)}))}function l(t){return t.map(p).join(s)}function p(t){return null==t?"":t instanceof Date?o(t):a.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,s,o=c(t,(function(t,o){if(n)return n(t,o-1);s=t,n=e?function(t,e){var n=r(t);return function(r,s){return e(n(r),s,t)}}(t,e):r(t)}));return o.columns=s||[],o},parseRows:c,format:function(t,e){return null==e&&(e=n(t)),[e.map(p).join(s)].concat(u(t,e)).join("\n")},formatBody:function(t,e){return null==e&&(e=n(t)),u(t,e).join("\n")},formatRows:function(t){return t.map(l).join("\n")},formatRow:l,formatValue:p}}(",").parse;function i(t){for(var e in t){var r,n,s=t[e].trim();if(s)if("true"===s)s=!0;else if("false"===s)s=!1;else if("NaN"===s)s=NaN;else if(isNaN(r=+s)){if(!(n=s.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;c&&n[4]&&!n[7]&&(s=s.replace(/-/g,"/").replace(/T/," ")),s=new Date(s)}else s=r;else s=null;t[e]=s}return t}var c=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),u="2.0.0",l={"annual-precip.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/annual-precip.json`,"anscombe.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/anscombe.json`,"barley.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/barley.json`,"budget.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/budget.json`,"budgets.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/budgets.json`,"burtin.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/burtin.json`,"cars.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/cars.json`,"countries.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/countries.json`,"crimea.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/crimea.json`,"driving.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/driving.json`,"earthquakes.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/earthquakes.json`,"flare-dependencies.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flare-dependencies.json`,"flare.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flare.json`,"flights-10k.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-10k.json`,"flights-200k.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-200k.json`,"flights-20k.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-20k.json`,"flights-2k.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-2k.json`,"flights-5k.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-5k.json`,"football.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/football.json`,"gapminder.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/gapminder.json`,"income.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/income.json`,"jobs.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/jobs.json`,"londonBoroughs.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/londonBoroughs.json`,"londonCentroids.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/londonCentroids.json`,"londonTubeLines.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/londonTubeLines.json`,"miserables.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/miserables.json`,"monarchs.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/monarchs.json`,"movies.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/movies.json`,"normal-2d.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/normal-2d.json`,"obesity.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/obesity.json`,"ohlc.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/ohlc.json`,"penguins.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/penguins.json`,"points.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/points.json`,"political-contributions.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/political-contributions.json`,"population.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/population.json`,"udistrict.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/udistrict.json`,"unemployment-across-industries.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/unemployment-across-industries.json`,"uniform-2d.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/uniform-2d.json`,"us-10m.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/us-10m.json`,"us-state-capitals.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/us-state-capitals.json`,"volcano.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/volcano.json`,"weather.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/weather.json`,"wheat.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/wheat.json`,"world-110m.json":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/world-110m.json`,"airports.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/airports.csv`,"birdstrikes.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/birdstrikes.csv`,"co2-concentration.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/co2-concentration.csv`,"disasters.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/disasters.csv`,"flights-3m.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-3m.csv`,"flights-airport.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-airport.csv`,"gapminder-health-income.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/gapminder-health-income.csv`,"github.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/github.csv`,"iowa-electricity.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/iowa-electricity.csv`,"la-riots.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/la-riots.csv`,"lookup_groups.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/lookup_groups.csv`,"lookup_people.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/lookup_people.csv`,"population_engineers_hurricanes.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/population_engineers_hurricanes.csv`,"seattle-weather-hourly-normals.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/seattle-weather-hourly-normals.csv`,"seattle-weather.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/seattle-weather.csv`,"sp500.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/sp500.csv`,"stocks.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/stocks.csv`,"us-employment.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/us-employment.csv`,"weather.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/weather.csv`,"windvectors.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/windvectors.csv`,"zipcodes.csv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/zipcodes.csv`,"unemployment.tsv":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/unemployment.tsv`,"flights-200k.arrow":`https://cdn.jsdelivr.net/npm/vega-datasets@${u}/data/flights-200k.arrow`},p=function(t,e,r,n){return new(r||(r=Promise))((function(s,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function i(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,i)}c((n=n.apply(t,e||[])).next())}))};const f={version:u};for(const t of Object.keys(l)){const e=l[t],r=function(){return p(this,void 0,void 0,(function*(){const r=yield fetch(e);return t.endsWith(".json")?yield r.json():t.endsWith(".csv")?a(yield r.text(),i):yield r.text()}))};r.url=e,f[t]=r}return f}()}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t=r(898),e=r(496),n=r(662),s=r(644),o=r(624),a=r(608),i=r(582),c=r(263),u=(r(929),r(778)),l=r(829),p=r(914),f=r(854),h=r(580),d=r(275),m={aggregate:t,agg:t,array:e,base64:n,chain:s,datasets:o,dataset:o,describe:a,group:i,hashMap:c,format:u,object:p,random:f,set:l,SourceMap:h,TableGenerator:d,table:function(...t){return new d(...t)}};globalThis.ijsUtils=m})()})();